

<!DOCTYPE html>


<html lang="en" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>kanon: kanon::TcpClient Class Reference &#8212; kanon v1.7 documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../../_static/styles/theme.css?digest=12da95d707ffb74b382d" rel="stylesheet" />
<link href="../../../_static/styles/bootstrap.css?digest=12da95d707ffb74b382d" rel="stylesheet" />
<link href="../../../_static/styles/pydata-sphinx-theme.css?digest=12da95d707ffb74b382d" rel="stylesheet" />

  
  <link href="../../../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=12da95d707ffb74b382d" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css" />
    <link rel="stylesheet" href="../../../_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../../_static/scripts/bootstrap.js?digest=12da95d707ffb74b382d" />
<link rel="preload" as="script" href="../../../_static/scripts/pydata-sphinx-theme.js?digest=12da95d707ffb74b382d" />

    <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/sphinx_highlight.js"></script>
    <script src="../../../_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'doxygen/kanon/html/classkanon_1_1TcpClient';</script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search..."
         aria-label="Search..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
  

<a class="navbar-brand logo" href="../../../index.html">
  
  
  
  
  
    <p class="title logo__title">kanon v1.7 documentation</p>
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        <ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../api/index.html">API Doc</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-1"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="index.html">Home Page</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-2"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="pages.html">Related Pages</a></li>
<li class="toctree-l3"><a class="reference internal" href="modules.html">Modules</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="annotated_classes.html">Classes</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-3"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="annotated.html">Class List</a></li>
<li class="toctree-l4"><a class="reference internal" href="classes.html">Class Index</a></li>
<li class="toctree-l4"><a class="reference internal" href="inherits.html">Class Hierarchy</a></li>
<li class="toctree-l4"><a class="reference internal" href="functions_class_members.html">Class Members</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="files.html">Files</a></li>
</ul>
</li>
</ul>
</li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../../../_sources/doxygen/kanon/html/classkanon_1_1TcpClient.rst" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.rst</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>


<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script>

<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>

</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>TcpClient Class Reference</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section id="tcpclient-class-reference">
<h1>TcpClient Class Reference<a class="headerlink" href="#tcpclient-class-reference" title="Permalink to this heading">#</a></h1>
<div class="doxygen-content docutils container">
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>kanon: kanon::TcpClient Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">kanon
   </div>
   <div id="projectbrief">A event-driven network library based on reactor mode</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>kanon</b></li><li class="navelem"><a class="el" href="classkanon_1_1TcpClient.html">TcpClient</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-static-methods">Static Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="classkanon_1_1TcpClient-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">kanon::TcpClient Class Reference<div class="ingroups"><a class="el" href="group__net.html">Net</a> &raquo; <a class="el" href="group__client.html">Client</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>A Tcp client instance.  
 <a href="classkanon_1_1TcpClient.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="tcp__client_8h_source.html">tcp_client.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for kanon::TcpClient:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classkanon_1_1TcpClient__inherit__graph.svg" width="320" height="127"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for kanon::TcpClient:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classkanon_1_1TcpClient__coll__graph.svg" width="428" height="218"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a58f69c0fe22846fb187e8ab9e5f807b8"><td class="memItemLeft" align="right" valign="top"><a id="a58f69c0fe22846fb187e8ab9e5f807b8"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>SetConnectionCallback</b> (ConnectionCallback cb) KANON_NOEXCEPT</td></tr>
<tr class="separator:a58f69c0fe22846fb187e8ab9e5f807b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5bc5d92260e31bcbf8c1beb4212d29fb"><td class="memItemLeft" align="right" valign="top"><a id="a5bc5d92260e31bcbf8c1beb4212d29fb"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>SetMessageCallback</b> (MessageCallback cb) KANON_NOEXCEPT</td></tr>
<tr class="separator:a5bc5d92260e31bcbf8c1beb4212d29fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8539aa26eaf7a8668666a460a084af3"><td class="memItemLeft" align="right" valign="top"><a id="ac8539aa26eaf7a8668666a460a084af3"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>SetWriteCompleteCallback</b> (WriteCompleteCallback cb) KANON_NOEXCEPT</td></tr>
<tr class="separator:ac8539aa26eaf7a8668666a460a084af3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89df4643669a0e02596c1ade2dab8b7c"><td class="memItemLeft" align="right" valign="top"><a id="a89df4643669a0e02596c1ade2dab8b7c"></a>
KANON_NET_API void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkanon_1_1TcpClient.html#a89df4643669a0e02596c1ade2dab8b7c">Connect</a> ()</td></tr>
<tr class="memdesc:a89df4643669a0e02596c1ade2dab8b7c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Active connect. <br /></td></tr>
<tr class="separator:a89df4643669a0e02596c1ade2dab8b7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a833bee91787684fabb8dd5cf6b9a5afb"><td class="memItemLeft" align="right" valign="top"><a id="a833bee91787684fabb8dd5cf6b9a5afb"></a>
KANON_NET_API void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkanon_1_1TcpClient.html#a833bee91787684fabb8dd5cf6b9a5afb">Disconnect</a> ()</td></tr>
<tr class="memdesc:a833bee91787684fabb8dd5cf6b9a5afb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Active close. <br /></td></tr>
<tr class="separator:a833bee91787684fabb8dd5cf6b9a5afb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a443e967102416741ed8332c3bb65a90e"><td class="memItemLeft" align="right" valign="top">KANON_NET_API void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkanon_1_1TcpClient.html#a443e967102416741ed8332c3bb65a90e">Stop</a> ()</td></tr>
<tr class="memdesc:a443e967102416741ed8332c3bb65a90e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop connecting to the server.  <a href="classkanon_1_1TcpClient.html#a443e967102416741ed8332c3bb65a90e">More...</a><br /></td></tr>
<tr class="separator:a443e967102416741ed8332c3bb65a90e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61ea19f5f047edc6ae9802222a7663b9"><td class="memItemLeft" align="right" valign="top"><a id="a61ea19f5f047edc6ae9802222a7663b9"></a>
KANON_NET_API const <a class="el" href="classkanon_1_1InetAddr.html">InetAddr</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>GetServerAddr</b> () const KANON_NOEXCEPT</td></tr>
<tr class="separator:a61ea19f5f047edc6ae9802222a7663b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5ea59666703b67db2cd5b59141fb64f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkanon_1_1TcpClient.html#ac5ea59666703b67db2cd5b59141fb64f">EnableRetry</a> () KANON_NOEXCEPT</td></tr>
<tr class="separator:ac5ea59666703b67db2cd5b59141fb64f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">getter</div></td></tr>
<tr class="memitem:a64e9299602ade5b5b745a34ce468a4b9"><td class="memItemLeft" align="right" valign="top">TcpConnectionPtr&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkanon_1_1TcpClient.html#a64e9299602ade5b5b745a34ce468a4b9">GetConnection</a> () const KANON_NOEXCEPT</td></tr>
<tr class="memdesc:a64e9299602ade5b5b745a34ce468a4b9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the connection.  <a href="classkanon_1_1TcpClient.html#a64e9299602ade5b5b745a34ce468a4b9">More...</a><br /></td></tr>
<tr class="separator:a64e9299602ade5b5b745a34ce468a4b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e15d23c44d6de32510516f5793b2fe1"><td class="memItemLeft" align="right" valign="top"><a id="a8e15d23c44d6de32510516f5793b2fe1"></a>
<a class="el" href="classkanon_1_1EventLoop.html">EventLoop</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>GetLoop</b> () KANON_NOEXCEPT</td></tr>
<tr class="separator:a8e15d23c44d6de32510516f5793b2fe1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a9f729cc2d6dc63e4cc420254237f8e52"><td class="memItemLeft" align="right" valign="top">KANON_NET_API&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkanon_1_1TcpClient.html#a9f729cc2d6dc63e4cc420254237f8e52">TcpClient</a> (<a class="el" href="classkanon_1_1EventLoop.html">EventLoop</a> *loop, <a class="el" href="classkanon_1_1InetAddr.html">InetAddr</a> const &amp;serv_addr, std::string const &amp;name={})</td></tr>
<tr class="separator:a9f729cc2d6dc63e4cc420254237f8e52"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a073c79013ad93b2692b3a9281db0d1a2"><td class="memItemLeft" align="right" valign="top"><a id="a073c79013ad93b2692b3a9281db0d1a2"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>Init</b> ()</td></tr>
<tr class="separator:a073c79013ad93b2692b3a9281db0d1a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e2029b5ce52f7066a5f9bdc8806416d"><td class="memItemLeft" align="right" valign="top"><a id="a4e2029b5ce52f7066a5f9bdc8806416d"></a>
TcpConnectionPtr conn_&#160;</td><td class="memItemRight" valign="bottom"><b>GUARDED_BY</b> (mutex_)</td></tr>
<tr class="separator:a4e2029b5ce52f7066a5f9bdc8806416d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-methods"></a>
Static Private Member Functions</h2></td></tr>
<tr class="memitem:abb2b6b6c0a67f9ad0365f9d252c9f599"><td class="memItemLeft" align="right" valign="top"><a id="abb2b6b6c0a67f9ad0365f9d252c9f599"></a>
static KANON_NET_NO_API void&#160;</td><td class="memItemRight" valign="bottom"><b>NewConnection</b> (FdType sockfd, <a class="el" href="classkanon_1_1InetAddr.html">InetAddr</a> const &amp;serv_addr, std::weak_ptr&lt; <a class="el" href="classkanon_1_1TcpClient.html">TcpClient</a> &gt; const &amp;cli)</td></tr>
<tr class="separator:abb2b6b6c0a67f9ad0365f9d252c9f599"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a355b67586d0a0be8758e45476809eba2"><td class="memItemLeft" align="right" valign="top"><a id="a355b67586d0a0be8758e45476809eba2"></a>
<a class="el" href="classkanon_1_1EventLoop.html">EventLoop</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>loop_</b></td></tr>
<tr class="separator:a355b67586d0a0be8758e45476809eba2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35e102390ae4500cfc9f83dfdee70747"><td class="memItemLeft" align="right" valign="top"><a id="a35e102390ae4500cfc9f83dfdee70747"></a>
std::shared_ptr&lt; <a class="el" href="classkanon_1_1Connector.html">Connector</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>connector_</b></td></tr>
<tr class="separator:a35e102390ae4500cfc9f83dfdee70747"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ad246359e464e881f4f9bb74f1ea812"><td class="memItemLeft" align="right" valign="top"><a id="a5ad246359e464e881f4f9bb74f1ea812"></a>
const std::string&#160;</td><td class="memItemRight" valign="bottom"><b>name_</b></td></tr>
<tr class="separator:a5ad246359e464e881f4f9bb74f1ea812"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4c9b2987c43b5198fe7d73827a506ad"><td class="memItemLeft" align="right" valign="top"><a id="af4c9b2987c43b5198fe7d73827a506ad"></a>
ConnectionCallback&#160;</td><td class="memItemRight" valign="bottom"><b>connection_callback_</b></td></tr>
<tr class="separator:af4c9b2987c43b5198fe7d73827a506ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd081958fddc57fb928cb4f8c72bfd1a"><td class="memItemLeft" align="right" valign="top"><a id="abd081958fddc57fb928cb4f8c72bfd1a"></a>
MessageCallback&#160;</td><td class="memItemRight" valign="bottom"><b>message_callback_</b></td></tr>
<tr class="separator:abd081958fddc57fb928cb4f8c72bfd1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2926e3c8b72535035d9d3cb6d45bc8b1"><td class="memItemLeft" align="right" valign="top"><a id="a2926e3c8b72535035d9d3cb6d45bc8b1"></a>
WriteCompleteCallback&#160;</td><td class="memItemRight" valign="bottom"><b>write_complete_callback_</b></td></tr>
<tr class="separator:a2926e3c8b72535035d9d3cb6d45bc8b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ec80542dcf512971b8308d472ac11e8"><td class="memItemLeft" align="right" valign="top"><a id="a0ec80542dcf512971b8308d472ac11e8"></a>
std::atomic&lt; bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>retry_</b></td></tr>
<tr class="separator:a0ec80542dcf512971b8308d472ac11e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9da63f874376f8d98933752ee0c8163e"><td class="memItemLeft" align="right" valign="top"><a id="a9da63f874376f8d98933752ee0c8163e"></a>
MutexLock&#160;</td><td class="memItemRight" valign="bottom"><b>mutex_</b></td></tr>
<tr class="separator:a9da63f874376f8d98933752ee0c8163e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:a2eb7a411ad27ef66983f86ffff0b49b4"><td class="memItemLeft" align="right" valign="top">KANON_NET_API friend TcpClientPtr&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkanon_1_1TcpClient.html#a2eb7a411ad27ef66983f86ffff0b49b4">NewTcpClient</a> (<a class="el" href="classkanon_1_1EventLoop.html">EventLoop</a> *, <a class="el" href="classkanon_1_1InetAddr.html">InetAddr</a> const &amp;, std::string const &amp;, bool)</td></tr>
<tr class="memdesc:a2eb7a411ad27ef66983f86ffff0b49b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a tcp client in correct approach.  <a href="classkanon_1_1TcpClient.html#a2eb7a411ad27ef66983f86ffff0b49b4">More...</a><br /></td></tr>
<tr class="separator:a2eb7a411ad27ef66983f86ffff0b49b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A Tcp client instance. </p>
<p>User can connect or disconnect actively, and get the connection to send message. </p><dl class="section note"><dt>Note</dt><dd>Public class </dd></dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a9f729cc2d6dc63e4cc420254237f8e52"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f729cc2d6dc63e4cc420254237f8e52">&#9670;&nbsp;</a></span>TcpClient()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">TcpClient::TcpClient </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classkanon_1_1EventLoop.html">EventLoop</a> *&#160;</td>
          <td class="paramname"><em>loop</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classkanon_1_1InetAddr.html">InetAddr</a> const &amp;&#160;</td>
          <td class="paramname"><em>serv_addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>name</em> = <code>{}</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">loop</td><td>evnet loop(usually not main thread) </td></tr>
    <tr><td class="paramname">serv_addr</td><td>Address of server that you want to connect </td></tr>
    <tr><td class="paramname">name</td><td>Can be empty </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ac5ea59666703b67db2cd5b59141fb64f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac5ea59666703b67db2cd5b59141fb64f">&#9670;&nbsp;</a></span>EnableRetry()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void kanon::TcpClient::EnableRetry </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Enable the client retry connect when client is closed by peer(But if you call disconnect early, this is useless) </p>

</div>
</div>
<a id="a64e9299602ade5b5b745a34ce468a4b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a64e9299602ade5b5b745a34ce468a4b9">&#9670;&nbsp;</a></span>GetConnection()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">TcpConnectionPtr kanon::TcpClient::GetConnection </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the connection. </p>
<p>I don't implement this through condition variable to make caller thread sleeping when connection is not established since it will block the caller thread. To GUI program, this is might not good behavior.</p>
<p>If you want to block caller thread until connection is established in the other thread, you can notify caller thread in the ConnectionCallback </p><dl class="section return"><dt>Returns</dt><dd>This only return nullptr or established conection. </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Thread-safe </dd></dl>

</div>
</div>
<a id="a443e967102416741ed8332c3bb65a90e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a443e967102416741ed8332c3bb65a90e">&#9670;&nbsp;</a></span>Stop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TcpClient::Stop </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stop connecting to the server. </p>
<dl class="section note"><dt>Note</dt><dd>Only useful when connection isn't established successfully </dd></dl>

</div>
</div>
<h2 class="groupheader">Friends And Related Function Documentation</h2>
<a id="a2eb7a411ad27ef66983f86ffff0b49b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2eb7a411ad27ef66983f86ffff0b49b4">&#9670;&nbsp;</a></span>NewTcpClient</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">KANON_NET_API friend TcpClientPtr NewTcpClient </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classkanon_1_1EventLoop.html">EventLoop</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classkanon_1_1InetAddr.html">InetAddr</a> const &amp;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create a tcp client in correct approach. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">compact</td><td>Call std::make_shared if true, otherwise use <code>new</code> operator </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/root/kanon/kanon/net/<a class="el" href="tcp__client_8h_source.html">tcp_client.h</a></li>
<li>/root/kanon/kanon/net/tcp_client.cc</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
</div>
</section>


                </article>
              

              
              
                <footer class="bd-footer-article">
                  <!-- Previous / next buttons -->
<div class="prev-next-area">
</div>
                </footer>
              
            </div>
            
            
              
            
          </div>
          <footer class="bd-footer-content">
            <div class="bd-footer-content__inner">
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By conzxy
</p>

  </div>
  
  <div class="footer-item">
    
  <p class="copyright">
    
      Â© Copyright 2023, conzxy.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div></div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../../_static/scripts/bootstrap.js?digest=12da95d707ffb74b382d"></script>
<script src="../../../_static/scripts/pydata-sphinx-theme.js?digest=12da95d707ffb74b382d"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>