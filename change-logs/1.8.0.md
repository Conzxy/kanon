# Changelog

## [1.8.0] - 2023-04-27

### Bug Fixes

- 避免宏冲突
- 不正确的错误码
- Include macro.h
- Find protobuf config.cmake
- Link to Protobuf::libprotobuf
- Incorrect assertion & check empty in dtor
- Main based on Linux promise
- Timeout -> deadline
- Use raw_any now
- Incorrent #ifdef defined(...)
- Link correct library
- GUN -> GNU, __builtin_expect
- Include headers to inline
- Empty()/size() don't consider header is null
- Include macro.h
- 0 termination & numeric string size check
- Check port is numeric
- Incorrect macro
- -Wunused & -Wconversion
- Compatible to -Wdeprecated
- WaitForSeconds() ambiguity
- -Wunused-parameter
- Rpc include protobuf config
- Large ERRNO_BUFFER_SIZE
- Large ERRNO_BUFFER_SIZE
- Mmkv CI
- Append size init = str.size() & char overload
- LogLevel as index
- Reorder headers to avoid include windows.h before winsock2
- Drop_node_size take the actual size(ie. max_size)
- Chunklist iter don't advance
- Use PROJECT_SOURCE_DIR instead of SOURCE_DIR
- Rename
- Introduce global timezone and timeval to kanon
- Check the error from GetSocketError()

### Features

- 宏自动缩进
- Teardown 相关函数
- Operator-=/+=
- Defer delete macro
- MutexGuard dummy variable define macro
- Level test
- Set log of protobuf and protobuf-rpc
- ToUpper/LowerString
- .gitignore

### Miscellaneous Tasks

- Remove core

### Modification

- Badge
- 避免动态库的*.lib覆盖静态库
- 改不恰当的API为NO_API
- 完成包数=1时调用GetQueuedCompletionStatus()
- Patch version
- Inline->KANON_INLINE
- NO_API specifier
- -WConversion warning code
- Reorder member initializer
- Check more warning
- -Wreturn-local
- Use LOG_*_KANON macro to log
- Use KANON_*_PROTOBUF macro log
- Use LOG_*_KANON_PROTOBUF_RPC to log

### Optimization

- Log level setting
- Size header prepend don't requires create a new chunk

### Windows change

- 修改了一些不恰当的代码

<!-- generated by git-cliff -->
